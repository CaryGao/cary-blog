<!DOCTYPE html>
<html >
<head>

    <!--[if lt IE 9]>
        <style>body {display: none; background: none !important} </style>
        <meta http-equiv="Refresh" Content="0; url=//outdatedbrowser.com/" />
    <![endif]-->

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="format-detection" content="telephone=no" />
<meta name="author" content="Cary" />


    
    


<meta name="description" content="这辈子没法做太多的事情, 所以每一件都要做到精彩绝伦!">
<meta property="og:type" content="website">
<meta property="og:title" content="酒馆儒生">
<meta property="og:url" content="https://carygao.github.io/page/3/index.html">
<meta property="og:site_name" content="酒馆儒生">
<meta property="og:description" content="这辈子没法做太多的事情, 所以每一件都要做到精彩绝伦!">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="酒馆儒生">
<meta name="twitter:description" content="这辈子没法做太多的事情, 所以每一件都要做到精彩绝伦!">

<link rel="apple-touch-icon" href= "/apple-touch-icon.png">


    <link rel="alternate" href="/atom.xml" title="酒馆儒生" type="application/atom+xml">



    <link rel="shortcut icon" href="/favicon.png">



    <link href="//cdn.bootcss.com/animate.css/3.5.1/animate.min.css" rel="stylesheet">



    <link href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet">



    <script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
    <link href="//cdn.bootcss.com/pace/1.0.2/themes/blue/pace-theme-minimal.css" rel="stylesheet">


<link rel="stylesheet" href="/css/style.css">


    <style> .article { opacity: 0;} </style>


<link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">


<title>酒馆儒生</title>

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>

<script>
    var yiliaConfig = {
        fancybox: true,
        animate: true,
        isHome: true,
        isPost: false,
        isArchive: false,
        isTag: false,
        isCategory: false,
        fancybox_js: "//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js",
        scrollreveal: "//cdn.bootcss.com/scrollReveal.js/3.1.4/scrollreveal.min.js",
        search: undefined
    }
</script>


    <script> yiliaConfig.jquery_ui = [false]; </script>



    <script> yiliaConfig.rootUrl = "\/";</script>






</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            <img src="/img/avatar.png" class="animated zoomIn">
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/">Cary</a></h1>
        </hgroup>

        
        <p class="header-subtitle">这辈子没法做太多的事情, 所以每一件都要做到精彩绝伦!</p>
        

        


        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/">主页</a></li>
                        
                            <li><a href="/archives/">所有文章</a></li>
                        
                            <li><a href="/tags/">标签云</a></li>
                        
                            <li><a href="/about/">关于我</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" href="mailto:123@123.com" title="Email"></a>
                            
                                <a class="fa GitHub" href="#" title="GitHub"></a>
                            
                                <a class="fa RSS" href="/atom.xml" title="RSS"></a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ios/">ios</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/iphone/">iphone</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/">java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/objective-c/">objective-c</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/oracle/">oracle</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sqlplus/">sqlplus</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/weblogic/">weblogic</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/随笔/">随笔</a></li></ul>
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a class="main-nav-link switch-friends-link" href="https://hexo.io">Hexo</a>
                    
                      <a class="main-nav-link switch-friends-link" href="https://pages.github.com/">GitHub</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://moxfive.xyz/">MOxFIVE</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">专注于前端</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">Cary</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                <img src="/img/avatar.png" class="animated zoomIn">
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页">Cary</a></h1>
            </hgroup>
            
            <p class="header-subtitle">这辈子没法做太多的事情, 所以每一件都要做到精彩绝伦!</p>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/">主页</a></li>
                
                    <li><a href="/archives/">所有文章</a></li>
                
                    <li><a href="/tags/">标签云</a></li>
                
                    <li><a href="/about/">关于我</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" target="_blank" href="mailto:123@123.com" title="Email"></a>
                            
                                <a class="fa GitHub" target="_blank" href="#" title="GitHub"></a>
                            
                                <a class="fa RSS" target="_blank" href="/atom.xml" title="RSS"></a>
                            
                        </ul>
            </nav>
        </header>                
    </div>
    <link class="menu-list" tags="标签" friends="友情链接" about="关于我"/>
</nav>
      <div class="body-wrap">
  
    <article id="post-原-java-sql-SQLException-ORA-01799-a-column-may-not-be-outer-joined-to-a-subquery" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2009/09/10/原-java-sql-SQLException-ORA-01799-a-column-may-not-be-outer-joined-to-a-subquery/" class="article-date">
      <time datetime="2009-09-10T08:18:00.000Z" itemprop="datePublished">2009-09-10</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2009/09/10/原-java-sql-SQLException-ORA-01799-a-column-may-not-be-outer-joined-to-a-subquery/">[原]java.sql.SQLException: ORA-01799: a column may not be outer-joined to a subquery</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <textarea cols="86" rows="15" name="code" class="java">Caused by: java.sql.SQLException: ORA-01799: a column may not be outer-joined to a subquery<br><br>    at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:111)<br>    at oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:330)<br>    at oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:287)<br>    at oracle.jdbc.driver.T4C8Oall.receive(T4C8Oall.java:742)<br>    at oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:215)<br>    at oracle.jdbc.driver.T4CPreparedStatement.executeForDescribe(T4CPreparedStatement.java:798)<br>    at oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:1038)<br>    at oracle.jdbc.driver.T4CPreparedStatement.executeMaybeDescribe(T4CPreparedStatement.java:838)<br>    at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1131)<br>    at oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3284)<br>    at oracle.jdbc.driver.OraclePreparedStatement.executeQuery(OraclePreparedStatement.java:3328)<br>    at org.apache.commons.dbcp.DelegatingPreparedStatement.executeQuery(DelegatingPreparedStatement.java:93)<br>    at org.hibernate.jdbc.AbstractBatcher.getResultSet(AbstractBatcher.java:186)<br>    at org.hibernate.loader.Loader.getResultSet(Loader.java:1787)<br>    at org.hibernate.loader.Loader.doQuery(Loader.java:674)<br>    at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:236)<br>    at org.hibernate.loader.Loader.doList(Loader.java:2213)<br>    … 32 more<br></textarea>

<p>错误原因:</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp; Oracle禁止在outer join后使用子查询,参考<a href="http://forums.oracle.com/forums/thread.jspa?threadID=945104&amp;tstart=0" target="_blank" rel="external">http://forums.oracle.com/forums/thread.jspa?threadID=945104&amp;tstart=0</a></p>
<p>Presumably, Oracle has decided that the 9i behavior was incorrect– you are doing an outer join to a subquery, which isn’t allowed. The 9.2.0.1 parser didn’t notice the error. Presumably, you’re getting lucky and Oracle generates the correct output. But presumably the optimizer doesn’t know how to handle this properly in all cases, so Oracle disallows it. The 10.2.0.4 behavior appears to be correct from Oracle’s standpoint– you’ll need to refactor the code to avoid doing an outer join to a subquery.</p>
<p>&nbsp;</p>
<p>翻译:据推测,Oracle 9i明白这种行为是错误的(你在outer join后使用子查询),但是9.2.0.1解析器没有提示这种错误,据推测,你非常幸运的生成了正确的输出.但是并不适用于所有情况.所以Oracle禁止这种操作.在10.2.0.4版本Oracle正确的拒绝这种操作,你应该重构你的代码来避免使用outer join后加入子查询.</p>
<p>&nbsp;</p>
<p>参考2 <a href="Oracle安装/配置/入门">http://www.oracle.com.cn/viewthread.php?tid=34336</a></p>
<p>ERROR at line 4:</p>
<p>ORA-01799: a column may not be outer-joined to a subquery<br>As a work around, you can use an inline view to achieve the desired effect: </p>
<p>SELECT E.LNAME</p>
<p>FROM EMPLOYEE E,</p>
<p>(SELECT DEPT_ID FROM DEPARTMENT WHERE NAME = ‘ACCOUNTING’) V</p>
<p>WHERE E.DEPT_ID (+) = V.DEPT_ID;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<pre><code>&lt;div&gt;
    作者：wherejaly 发表于2009/9/10 16:18:00 [原文链接](http://blog.csdn.net/wherejaly/article/details/4539583)
&lt;/div&gt;
&lt;div&gt;
阅读：1937 评论：0 [查看评论](http://blog.csdn.net/wherejaly/article/details/4539583#comments)
&lt;/div&gt;
</code></pre>
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-原-java-sql-BatchUpdateException-ORA-02291-integrity-constraint" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2009/08/31/原-java-sql-BatchUpdateException-ORA-02291-integrity-constraint/" class="article-date">
      <time datetime="2009-08-31T04:07:00.000Z" itemprop="datePublished">2009-08-31</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2009/08/31/原-java-sql-BatchUpdateException-ORA-02291-integrity-constraint/">[原]java.sql.BatchUpdateException: ORA-02291: integrity constraint</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>錯誤日志:</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <textarea cols="88" rows="15" name="code" class="java">[31 12:02:03,906 WARN ] [Thread-11] util.JDBCExceptionReporter - SQL Error: 2291, SQLState: 23000<br>2009-8-31 12:02:04 org.zkoss.zk.ui.impl.UiEngineImpl handleError:1108<br>严重: &gt;&gt;org.springframework.dao.DataIntegrityViolationException: Could not execute JDBC batch update; nested exception is org.hibernate.exception.ConstraintViolationException: Could not execute JDBC batch update<br>&gt;&gt;org.hibernate.exception.ConstraintViolationException: Could not execute JDBC batch update<br>[SQL: 2291, 23000]<br>&gt;&gt;java.sql.BatchUpdateException: ORA-02291: integrity constraint (SGVD.TFACTCANCELLI_FK61247830083984) violated - parent key not found<br>&gt;&gt;<br>&gt;&gt;    at oracle.jdbc.driver.DatabaseError.throwBatchUpdateException(DatabaseError.java:342)<br>&gt;&gt;    at oracle.jdbc.driver.OraclePreparedStatement.executeBatch(OraclePreparedStatement.java:10656)<br>&gt;&gt;    at org.apache.commons.dbcp.DelegatingStatement.executeBatch(DelegatingStatement.java:297)<br>&gt;&gt;    at org.hibernate.jdbc.BatchingBatcher.doExecuteBatch(BatchingBatcher.java:48)<br>&gt;&gt;    at org.hibernate.jdbc.AbstractBatcher.executeBatch(AbstractBatcher.java:246)<br>&gt;&gt;…</textarea> </p>
<p>&nbsp;</p>
<p>錯誤分析:</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 从字面来看,此错误为外键约束错误,经过检查发现,某字段在数据库中设置外键与Hibernate中引用的表对象不同而导致错误.</p>
<p>&nbsp;</p>
<pre><code>&lt;div&gt;
    作者：wherejaly 发表于2009/8/31 12:07:00 [原文链接](http://blog.csdn.net/wherejaly/article/details/4502696)
&lt;/div&gt;
&lt;div&gt;
阅读：4967 评论：1 [查看评论](http://blog.csdn.net/wherejaly/article/details/4502696#comments)
&lt;/div&gt;
</code></pre>
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-原-org-hibernate-QueryException-query-specified-join-fetching-but-the-owner-of-the-fetched-association-was-not-present-in-the-sel" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2009/08/21/原-org-hibernate-QueryException-query-specified-join-fetching-but-the-owner-of-the-fetched-association-was-not-present-in-the-sel/" class="article-date">
      <time datetime="2009-08-21T01:50:00.000Z" itemprop="datePublished">2009-08-21</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2009/08/21/原-org-hibernate-QueryException-query-specified-join-fetching-but-the-owner-of-the-fetched-association-was-not-present-in-the-sel/">[原]org.hibernate.QueryException: query specified join fetching, but the owner of the fetched association was not present in the sel</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>错误日志:</p>
<textarea cols="91" rows="15" name="code" class="java:showcolumns">2009-8-20 12:17:56 org.zkoss.zk.ui.impl.UiEngineImpl handleError:1108<br>严重: &gt;&gt;java.lang.IllegalArgumentException: org.hibernate.QueryException: query specified join fetching, but the owner of the fetched association was not present in the select list [FromElement{explicit,not a collection join,fetch join,fetch non-lazy properties,classAlias=null,role=null,tableName=SGVD.TPROFILE,tableAlias=tprofile1<em>,origin=SGVD.TPROFILEPERSON tprofilepe0</em>,colums={tprofilepe0<em>.PROFILEID ,className=mo.org.sgvd.domain.Tprofile}}] [SELECT pfp.tprofile FROM mo.org.sgvd.domain.Tprofileperson pfp left join fetch pfp.tprofile WHERE pfp.tperson.personid = 114]<br>&gt;&gt;org.hibernate.QueryException: query specified join fetching, but the owner of the fetched association was not present in the select list [FromElement{explicit,not a collection join,fetch join,fetch non-lazy properties,classAlias=null,role=null,tableName=SGVD.TPROFILE,tableAlias=tprofile1</em>,origin=SGVD.TPROFILEPERSON tprofilepe0<em>,colums={tprofilepe0</em>.PROFILEID ,className=mo.org.sgvd.domain.Tprofile}}] [SELECT pfp.tprofile FROM mo.org.sgvd.domain.Tprofileperson pfp left join fetch pfp.tprofile WHERE pfp.tperson.personid = 114]<br>&gt;&gt;    at org.hibernate.hql.ast.tree.SelectClause.initializeExplicitSelectClause(SelectClause.java:195)<br>&gt;&gt;    at org.hibernate.hql.ast.HqlSqlWalker.useSelectClause(HqlSqlWalker.java:705)<br>&gt;&gt;    at org.hibernate.hql.ast.HqlSqlWalker.processQuery(HqlSqlWalker.java:529)<br>&gt;&gt;    at org.hibernate.hql.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:645)<br>&gt;&gt;    at org.hibernate.hql.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:281)<br>&gt;&gt;…</textarea> 

<p>错误原因分析:</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 首先看HQL语句:</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SELECT pfp.tprofile FROM Tprofileperson pfp left join fetch pfp.tprofile WHERE pfp.tperson.personid = 114</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 此处我希望加载Tprofileperson下的tprofile,而我使用了fetch来立即抓取tprofile,错误就在这里.如果你使用fetch,那么fetch左边的连接对象(拥有者)一定要出现在select后,例如将上面改为select pfp… 这样就会执行正常,因为使用了fetch,Hibernate就会将需要fetch的对象(Tprofile)立即加载在父对象(Tprofileperson)中,而我的select确只是列出子对象,而拥有者(Tprofileperson)并没有present(出席在结果集中),那么就会出现以上错误.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp; 下面我们看另外会出现同样错误的语句:</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp; <textarea cols="50" rows="3" name="code" class="java">01: select person from Person as person<br>02: left join person.address as address<br>03: left join fetch address.country as country</textarea> </p>
<p>你可以看到在第3行使用了fetch,而第2行确没有使用fetch,那么第3行fetch的拥有者address并没有立即被抓取,这就会导致同样的错误,将第2行中的join后加上fetch,即可解决问题.</p>
<p>总结:</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 如果使用了fetch,那么拥有者一定要present,也就是对象一定要被加载出来</p>
<p>参考资料:</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a href="http://lamnguyenblog.com/2008/10/common-hibernate-errors-and-causes/" target="_blank" rel="external">http://lamnguyenblog.com/2008/10/common-hibernate-errors-and-causes/</a></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a href="http://www.google.com/custom?hl=en&amp;lr=&amp;ie=utf-8&amp;oe=utf-8&amp;client=pub-2698861478625135&amp;cof=FORID%3A1%3BGL%3A1%3BLBGC%3A336699%3BLC%3A%230000ff%3BVLC%3A%23663399%3BGFNT%3A%230000ff%3BGIMP%3A%230000ff%3BDIV%3A%23336699%3B&amp;q=org.hibernate.QueryException%3A+query+specified+join+fetching%2C+but+the+owner+of+the+fetched+association+was+not+present+in+the+select+list" target="_blank" rel="external">http://www.google.com/custom?hl=en&amp;lr=&amp;ie=utf-8&amp;oe=utf-8&amp;client=pub-2698861478625135&amp;cof=FORID%3A1%3BGL%3A1%3BLBGC%3A336699%3BLC%3A%230000ff%3BVLC%3A%23663399%3BGFNT%3A%230000ff%3BGIMP%3A%230000ff%3BDIV%3A%23336699%3B&amp;q=org.hibernate.QueryException%3A+query+specified+join+fetching%2C+but+the+owner+of+the+fetched+association+was+not+present+in+the+select+list</a></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</p>
<pre><code>&lt;div&gt;
    作者：wherejaly 发表于2009/8/21 9:50:00 [原文链接](http://blog.csdn.net/wherejaly/article/details/4468772)
&lt;/div&gt;
&lt;div&gt;
阅读：5100 评论：4 [查看评论](http://blog.csdn.net/wherejaly/article/details/4468772#comments)
&lt;/div&gt;
</code></pre>
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-原-java-lang-NullPointerException" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2009/08/19/原-java-lang-NullPointerException/" class="article-date">
      <time datetime="2009-08-19T08:39:00.000Z" itemprop="datePublished">2009-08-19</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2009/08/19/原-java-lang-NullPointerException/">[原]java.lang.NullPointerException</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>异常日志:</p>
<textarea cols="90" rows="15" name="code" class="java:showcolumns">严重: &gt;&gt;java.lang.NullPointerException<br>&gt;&gt;    at mo.org.sgvd.ui.convert.ConvertListboxToLong.coerceToUi(ConvertListboxToLong.java:33)<br>&gt;&gt;    at org.zkoss.zkplus.databind.Binding.myLoadAttribute(Binding.java:299)<br>&gt;&gt;    at org.zkoss.zkplus.databind.Binding.loadAttribute(Binding.java:279)<br>&gt;&gt;    at org.zkoss.zkplus.databind.DataBinder$LoadOnSaveEventListener.loadAllBindings(DataBinder.java:1472)<br>&gt;&gt;    at org.zkoss.zkplus.databind.DataBinder$LoadOnSaveEventListener.myLoadAllNodes(DataBinder.java:1375)<br>&gt;&gt;    at org.zkoss.zkplus.databind.DataBinder$LoadOnSaveEventListener.myLoadAllNodes(DataBinder.java:1384)<br>&gt;&gt;…</textarea> 

<p>异常原因分析:</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 这是笔者在工作中遇到最多的异常,其主要原因是因为一个为空的对象调用方法而导致的.例如:</p>
<textarea cols="21" rows="2" name="code" class="java:showcolumns">Object obj = null;<br>obj.toString();</textarea> 

<p>这个简单的例子中,obj为空对象,然后紧接着调用其toString();方法,就会导致以上异常.在日常工作中要十分注意此类问题,比如写了一些方法,某些参数如果为空,就会导致空指针异常,所以尽量在注释上标明此参数不能为空.或者加入为空判断,例如以上例子改写为:</p>
<textarea cols="50" rows="6" name="code" class="java">Object obj = null;<br>if(obj != null) {<br>   obj.toString();<br>} else {<br>   //执行另外一些操作<br>}</textarea> 

<pre><code>&lt;div&gt;
    作者：wherejaly 发表于2009/8/19 16:39:00 [原文链接](http://blog.csdn.net/wherejaly/article/details/4463557)
&lt;/div&gt;
&lt;div&gt;
阅读：642 评论：0 [查看评论](http://blog.csdn.net/wherejaly/article/details/4463557#comments)
&lt;/div&gt;
</code></pre>
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-原-org-zkoss-zk-ui-UiException-java-lang-NoSuchMethodException" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2009/08/19/原-org-zkoss-zk-ui-UiException-java-lang-NoSuchMethodException/" class="article-date">
      <time datetime="2009-08-19T08:30:00.000Z" itemprop="datePublished">2009-08-19</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2009/08/19/原-org-zkoss-zk-ui-UiException-java-lang-NoSuchMethodException/">[原]org.zkoss.zk.ui.UiException: java.lang.NoSuchMethodException:</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>异常日志:</p>
<textarea cols="90" rows="15" name="code" class="java:showcolumns">2009-8-19 16:29:48 org.zkoss.zk.ui.impl.UiEngineImpl handleError:1108<br>严重: &gt;&gt;org.zkoss.zk.ui.UiException: java.lang.NoSuchMethodException: class mo.org.sgvd.ui.domain.TfactSearch: name=course args=[class java.lang.String]<br>&gt;&gt;java.lang.NoSuchMethodException: class mo.org.sgvd.ui.domain.TfactSearch: name=course args=[class java.lang.String]<br>&gt;&gt;    at org.zkoss.lang.Classes.myGetAcsObj(Classes.java:954)<br>&gt;&gt;    at org.zkoss.lang.Classes.getAccessibleObject(Classes.java:882)<br>&gt;&gt;    at org.zkoss.lang.reflect.Fields.set(Fields.java:138)<br>&gt;&gt;    at org.zkoss.zkplus.databind.DataBinder.setBeanAndRegisterBeanSameNodes(DataBinder.java:1010)<br>&gt;&gt;    at org.zkoss.zkplus.databind.Binding.saveAttributeValue(Binding.java:368)<br>&gt;&gt;    at org.zkoss.zkplus.databind.Binding.access$100(Binding.java:48)<br>&gt;&gt;…</textarea> 

<p>异常原因分析:</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 仍然是ZK的UI引擎捕捉到的异常,这是由于ZK调用反射机制,从UI类中调用名字为course,参数类型为String的方法而导致异常.这种错误经常由于误写或者参数类型没有搞对.例如这里的course是个long类型,而ZK的大部分组件绑定的值,如value等都默认是String类型的.</p>
<p>解决方案:</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 在绑定的数据上写转换类,将String转换成Long即可.</p>
<pre><code>&lt;div&gt;
    作者：wherejaly 发表于2009/8/19 16:30:00 [原文链接](http://blog.csdn.net/wherejaly/article/details/4463510)
&lt;/div&gt;
&lt;div&gt;
阅读：1636 评论：0 [查看评论](http://blog.csdn.net/wherejaly/article/details/4463510#comments)
&lt;/div&gt;
</code></pre>
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-原-org-zkoss-zk-ui-UiException-Out-of-bound" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2009/08/19/原-org-zkoss-zk-ui-UiException-Out-of-bound/" class="article-date">
      <time datetime="2009-08-19T07:42:00.000Z" itemprop="datePublished">2009-08-19</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2009/08/19/原-org-zkoss-zk-ui-UiException-Out-of-bound/">[原]org.zkoss.zk.ui.UiException: Out of bound:</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>异常日志:</p>
<textarea cols="91" rows="15" name="code" class="java:showcolumns">2009-8-19 15:38:19 org.zkoss.zk.ui.impl.UiEngineImpl handleError:1108<br>严重: &gt;&gt;org.zkoss.zk.ui.UiException: Out of bound: 8 while size=7<br>&gt;&gt;    at org.zkoss.zul.Listbox.setSelectedIndex(Listbox.java:662)<br>&gt;&gt;    at sun.reflect.GeneratedMethodAccessor136.invoke(Unknown Source)<br>&gt;&gt;    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)<br>&gt;&gt;    at java.lang.reflect.Method.invoke(Method.java:585)<br>&gt;&gt;    at org.zkoss.lang.reflect.Fields.set(Fields.java:153)<br>&gt;&gt;    at org.zkoss.zkplus.databind.Binding.myLoadAttribute(Binding.java:316)<br>&gt;&gt;    at org.zkoss.zkplus.databind.Binding.loadAttribute(Binding.java:279)<br>&gt;&gt;    at org.zkoss.zkplus.databind.DataBinder$LoadOnSaveEventListener.loadAllBindings(DataBinder.java:1472)<br>&gt;&gt;…</textarea> 

<p>异常原因分析:</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ZK的UiException基本都出现在zul页面的元素错误,根据错误信息可以明显分析出是Listbox索引超出下标了.经过检查发现,两个Listbox同时绑定到一个数据上,而第一个Listbox组件拥有8个listitem,而第二个只有6个,当第一个listbox选中第7个时,就会发生索引越界.</p>
<p>解决方案:</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 尽量不要多个组件绑定同一个数据.</p>
<pre><code>&lt;div&gt;
    作者：wherejaly 发表于2009/8/19 15:42:00 [原文链接](http://blog.csdn.net/wherejaly/article/details/4463254)
&lt;/div&gt;
&lt;div&gt;
阅读：2012 评论：0 [查看评论](http://blog.csdn.net/wherejaly/article/details/4463254#comments)
&lt;/div&gt;
</code></pre>
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/2/">&laquo; Prev</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span>
    </nav>
  
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                <i class="fa fa-copyright"></i> 
                2016-2017 Cary
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank" title="快速、简洁且高效的博客框架">Hexo</a>  Theme <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" title="简而不减 Hexo 双栏博客主题  v3.5">Yelee</a> by MOxFIVE <i class="fa fa-heart animated infinite pulse"></i>
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" title="本站到访数"><i class="fa fa-user" aria-hidden="true"></i><span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>| </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit"  title="本页阅读量"><i class="fa fa-eye animated infinite pulse" aria-hidden="true"></i><span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>
    </div>
    
<script data-main="/js/main.js" src="//cdn.bootcss.com/require.js/2.2.0/require.min.js"></script>

    <script>
        $(document).ready(function() {
            var iPad = window.navigator.userAgent.indexOf('iPad');
            if (iPad > -1 || $(".left-col").css("display") === "none") {
                var bgColorList = ["#9db3f4", "#414141", "#e5a859", "#f5dfc6", "#c084a0", "#847e72", "#cd8390", "#996731"];
                var bgColor = Math.ceil(Math.random() * (bgColorList.length - 1));
                $("body").css({"background-color": bgColorList[bgColor], "background-size": "cover"});
            }
            else {
                var backgroundnum = 5;
                var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
                $("body").css({"background": backgroundimg, "background-attachment": "fixed", "background-size": "cover"});
            }
        })
    </script>





<div class="scroll" id="scroll">
    <a href="#" title="返回顶部"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments" onclick="load$hide();" title="查看评论"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="转到底部"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    // Open in New Window
    
        var oOpenInNew = {
            
            
            
            
            
            
             archives: ".archive-article-title", 
             miniArchives: "a.post-list-link", 
            
             friends: "#js-friends a", 
             socail: ".social a" 
        }
        for (var x in oOpenInNew) {
            $(oOpenInNew[x]).attr("target", "_blank");
        }
    
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
  </div>
</body>
</html>